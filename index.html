<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase de Robótica: El Joystick Analógico</title>
    
    <link rel="stylesheet" href="styles.css">

    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="antialiased">

    <nav class="fixed w-full z-50 bg-slate-900/90 border-b border-slate-700 backdrop-blur-sm">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <span class="text-2xl font-bold text-blue-500"><i class="fas fa-robot"></i> RoboClass</span>
            <div class="hidden md:flex space-x-6 text-sm font-bold">
                <a href="#intro" class="hover:text-blue-400 transition">Introducción</a>
                <a href="#conexiones" class="hover:text-blue-400 transition">Conexiones</a>
                <a href="#codigo" class="hover:text-blue-400 transition">Programación</a>
                <a href="#ejercicio" class="hover:text-green-400 transition">Práctica</a>
            </div>
        </div>
    </nav>

    <header id="intro" class="pt-32 pb-20 text-center px-4 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full opacity-10 z-0">
            <i class="fas fa-gamepad absolute top-10 left-10 text-9xl text-blue-500 animate-pulse"></i>
            <i class="fas fa-microchip absolute bottom-10 right-10 text-9xl text-green-500"></i>
        </div>
        
        <div class="relative z-10 max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-green-400 neon-text">
                El Joystick Analógico
            </h1>
            <p class="text-xl text-slate-300 mb-8">
                El puente entre tus manos y el cerebro del robot. Control total en ejes X e Y.
            </p>
            <a href="#funcionamiento" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-8 rounded-full transition shadow-lg shadow-blue-500/50">
                ¡Vamos a empezar!
            </a>
        </div>
    </header>

    <main class="container mx-auto px-4 pb-20 space-y-24">

        <section id="funcionamiento">
            <div class="flex flex-col md:flex-row items-center gap-10">
                <div class="md:w-1/2">
                    <h2 class="text-3xl font-bold text-blue-400 mb-6 border-b border-slate-700 pb-2">
                        <i class="fas fa-cogs"></i> ¿Cómo funciona?
                    </h2>
                    <p class="text-lg text-slate-300 leading-relaxed mb-4">
                        A simple vista parece magia, pero por dentro es pura ingeniería simple. Un módulo Joystick en realidad son <strong>dos potenciómetros</strong> (resistencias variables) y un botón.
                    </p>
                    <ul class="space-y-3 text-slate-300">
                        <li class="flex items-start">
                            <i class="fas fa-arrows-alt-h text-green-400 mt-1 mr-3"></i>
                            <span><strong>Eje X:</strong> Un potenciómetro que lee el movimiento horizontal.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-arrows-alt-v text-blue-400 mt-1 mr-3"></i>
                            <span><strong>Eje Y:</strong> Otro potenciómetro que lee el movimiento vertical.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-bullseye text-red-400 mt-1 mr-3"></i>
                            <span><strong>Botón Z:</strong> Un pulsador digital al presionar la palanca (Click).</span>
                        </li>
                    </ul>
                </div>
                <div class="md:w-1/2 flex justify-center">
                    <div class="relative w-64 h-64 bg-slate-800 rounded-full border-4 border-slate-600 flex items-center justify-center shadow-inner">
                        <div class="absolute top-0 bottom-0 w-1 bg-slate-600"></div>
                        <div class="absolute left-0 right-0 h-1 bg-slate-600"></div>
                        <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full shadow-lg transform hover:scale-110 transition cursor-pointer z-10 flex items-center justify-center text-white font-bold">
                            STICK
                        </div>
                        <div class="absolute top-2 text-xs text-slate-400">Y = 0</div>
                        <div class="absolute bottom-2 text-xs text-slate-400">Y = 1023</div>
                        <div class="absolute left-2 text-xs text-slate-400">X = 0</div>
                        <div class="absolute right-2 text-xs text-slate-400">X = 1023</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-gradient-to-r from-purple-900 to-slate-900 p-8 rounded-2xl shadow-xl border border-purple-500/30">
            <div class="flex items-start gap-4">
                <i class="fas fa-lightbulb text-yellow-400 text-4xl animate-bounce"></i>
                <div>
                    <h3 class="text-2xl font-bold text-purple-300 mb-2">¿Sabías qué?</h3>
                    <p class="text-slate-300">
                        El joystick no se inventó para los videojuegos. El primer joystick eléctrico patentado fue en <strong>1926</strong> por el Laboratorio de Investigación Naval de EE. UU. para controlar <strong>aviones a control remoto</strong> sin piloto. ¡Años después llegaron Atari y Nintendo para hacerlo divertido!
                    </p>
                </div>
            </div>
        </section>

        <section id="conexiones">
            <h2 class="text-3xl font-bold text-green-400 mb-8 text-center">
                <i class="fas fa-plug"></i> Conexiones del Componente
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-600">
                    <h4 class="text-xl font-bold mb-4 text-center text-white">Diagrama de Pines (Pinout)</h4>
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="text-slate-400 border-b border-slate-600">
                                <th class="py-2">Pin Joystick</th>
                                <th class="py-2">Conexión Arduino</th>
                                <th class="py-2">Función</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr class="border-b border-slate-700">
                                <td class="py-3 font-mono text-gray-300">GND</td>
                                <td class="py-3 font-mono text-gray-300">GND</td>
                                <td class="py-3 text-gray-400">Tierra (Negativo)</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 font-mono text-red-400">+5V</td>
                                <td class="py-3 font-mono text-red-400">5V</td>
                                <td class="py-3 text-gray-400">Energía (Positivo)</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 font-mono text-yellow-400">VRx</td>
                                <td class="py-3 font-mono text-yellow-400">A0</td>
                                <td class="py-3 text-gray-400">Lectura Eje Horizontal</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 font-mono text-blue-400">VRy</td>
                                <td class="py-3 font-mono text-blue-400">A1</td>
                                <td class="py-3 text-gray-400">Lectura Eje Vertical</td>
                            </tr>
                            <tr>
                                <td class="py-3 font-mono text-purple-400">SW</td>
                                <td class="py-3 font-mono text-purple-400">D2</td>
                                <td class="py-3 text-gray-400">Botón (Pulsador)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="space-y-4">
                    <div class="bg-blue-900/20 p-4 rounded-lg border-l-4 border-blue-500">
                        <h5 class="font-bold text-blue-400">Importante</h5>
                        <p class="text-sm text-slate-300">VRx y VRy DEBEN ir a pines que comiencen con <strong>"A"</strong> (Analógicos). Si los conectas a los digitales, no funcionará la graduación.</p>
                    </div>
                    <div class="bg-yellow-900/20 p-4 rounded-lg border-l-4 border-yellow-500">
                        <h5 class="font-bold text-yellow-400">Tip Pro</h5>
                        <p class="text-sm text-slate-300">Si los valores salen al revés (subes y el número baja), simplemente gira el joystick físicamente o invierte los cables.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="codigo">
            <h2 class="text-3xl font-bold text-pink-500 mb-6">
                <i class="fas fa-code"></i> ¿Cómo lo programo?
            </h2>
            <p class="mb-6 text-slate-300">Usamos dos funciones clave. <code>analogRead()</code> para obtener el dato crudo y <code>map()</code> para convertirlo.</p>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card p-6 rounded-xl">
                    <h3 class="text-xl font-bold text-green-400 mb-2">1. Lectura (Input)</h3>
                    <p class="text-sm text-slate-400 mb-3">El Arduino lee un voltaje de 0 a 5V y lo convierte en un número entre 0 y 1023.</p>
                    <div class="bg-black p-3 rounded text-green-300 font-mono text-sm">
                        int x = analogRead(A0);<br>
                        // 0 = Izquierda Total<br>
                        // 512 = Centro (Reposo)<br>
                        // 1023 = Derecha Total
                    </div>
                </div>

                <div class="card p-6 rounded-xl">
                    <h3 class="text-xl font-bold text-yellow-400 mb-2">2. Mapeo (Conversión)</h3>
                    <p class="text-sm text-slate-400 mb-3">Si queremos mover un Servo (0 a 180°), el 1023 es demasiado grande. Usamos map().</p>
                    <div class="bg-black p-3 rounded text-yellow-300 font-mono text-sm">
                        // map(valor, minIn, maxIn, minOut, maxOut)<br>
                        int angulo = map(x, 0, 1023, 0, 180);
                    </div>
                </div>
            </div>
        </section>

        <section id="ejercicio" class="bg-slate-800 p-8 rounded-2xl border border-slate-600">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-white">
                    <i class="fas fa-chalkboard-teacher text-blue-500"></i> Ejercicio Guiado
                </h2>
                <span class="bg-blue-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">Hagámoslo Juntos</span>
            </div>
            
            <p class="text-lg text-slate-300 mb-6">
                <strong>Objetivo:</strong> Conectar el joystick y ver los valores en el "Monitor Serie" para entender qué números arroja.
            </p>

            <div class="code-block p-4 rounded-lg overflow-x-auto relative group">
                <button onclick="copyToClipboard('code1')" class="absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition">Copiar</button>
                <pre id="code1" class="text-sm text-slate-300">
void setup() {
  Serial.begin(9600); // Iniciamos comunicación con la PC
}

void loop() {
  int valorX = analogRead(A0); // Leemos eje X
  int valorY = analogRead(A1); // Leemos eje Y
  int boton = digitalRead(2);  // Leemos botón (recuerda activar resistencia pullup si es necesario)

  Serial.print("Eje X: ");
  Serial.print(valorX);
  Serial.print(" | Eje Y: ");
  Serial.println(valorY);
  
  delay(200); // Pausa para poder leer
}
                </pre>
            </div>
            <div class="mt-4 text-sm text-slate-400">
                <i class="fas fa-info-circle"></i> Sube este código, abre el <strong>Monitor Serie</strong> (Lupa arriba a la derecha) y mueve la palanca.
            </div>
        </section>

        <section class="relative">
            <div class="absolute inset-0 bg-gradient-to-r from-red-600 to-orange-600 transform -skew-y-2 rounded-3xl z-0"></div>
            <div class="relative z-10 bg-slate-900 p-8 rounded-2xl border border-red-500 shadow-2xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-white">
                        <i class="fas fa-fire text-orange-500"></i> RETO: El Piloto de Drones
                    </h2>
                    <span class="bg-red-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide animate-pulse">Solo Alumnos</span>
                </div>

                <p class="text-lg text-slate-300 mb-6">
                    Imagina que estás controlando la cámara de un Dron.
                    <br><br>
                    <strong>Tu misión:</strong> Conecta <strong>1 LED</strong> (con su resistencia) al Pin 3 (PWM).
                    Haz que la intensidad del brillo del LED cambie según muevas el Joystick hacia adelante o atrás (Eje Y).
                </p>

                <ul class="list-disc list-inside text-slate-400 mb-8 space-y-2">
                    <li>Palanca abajo (0) -> LED Apagado.</li>
                    <li>Palanca arriba (1023) -> LED Brillo Máximo.</li>
                    <li><strong>Pista:</strong> <code>analogWrite</code> solo acepta valores de 0 a 255. ¡Necesitarás usar <code>map()</code>!</li>
                </ul>

                <div class="text-center">
                    <button onclick="toggleSolution()" class="bg-slate-700 hover:bg-slate-600 text-slate-300 font-bold py-2 px-6 rounded border border-slate-500 transition flex items-center justify-center mx-auto gap-2">
                        <i class="fas fa-eye"></i> Ver Solución del Reto
                    </button>
                </div>

                <div id="solution" class="spoiler-content mt-6">
                    <div class="bg-black p-6 rounded-xl border-l-4 border-orange-500">
                        <h4 class="text-orange-400 font-bold mb-2">Código Solución:</h4>
                        <pre class="text-sm text-green-400 font-mono whitespace-pre-wrap">
int ledPin = 3;
int joyPin = A1; // Usamos eje Y
int valorJoy = 0;
int brillo = 0;

void setup() {
  pinMode(ledPin, OUTPUT);
}

void loop() {
  valorJoy = analogRead(joyPin); // Lee 0 a 1023
  
  // Convertimos el rango de entrada (0-1023) 
  // al rango de salida del LED (0-255)
  brillo = map(valorJoy, 0, 1023, 0, 255);
  
  analogWrite(ledPin, brillo);
  delay(10);
}
                        </pre>
                        <p class="mt-2 text-xs text-gray-500">¡Excelente trabajo! Has convertido una señal analógica de entrada en una señal PWM de salida.</p>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer class="bg-slate-950 text-slate-500 py-8 text-center border-t border-slate-800">
        <p>© 2025 Club de Robótica. Creado para aprender y divertirse.</p>
        <div class="mt-2 space-x-4 text-xl">
            <i class="fab fa-arduino hover:text-teal-400 cursor-pointer transition"></i>
            <i class="fas fa-microchip hover:text-blue-400 cursor-pointer transition"></i>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>